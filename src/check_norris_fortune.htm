<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Chuck Norris Fortune</title>
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script type="text/javascript" language="javascript" src="./ajax/chuck_norris.json"></script> 
</head>
<body>
  <h1>Chuck Norris Fortune</h1>
  <h2>Quote of the day:</h2>
  <div id="fortune" style="border: 1px black dotted ; padding:10px">
    <span></span>
  </div>
  <input type="button" id="refreshButton" value="refresh" style="margin-top:20px" />
   
  <script>

    $('#refreshButton').click(function(e) {
        $quoteId = Math.floor(Math.random() * chuckJsonObject.value.length) + 1;
        // trigger a 'change' event that could be handled by another function when Chuck's quote is updated.
        $("#fortune span").text(chuckJsonObject.value[$quoteId].joke).trigger('change');
    });

    $(document).ready(function(e) {
        $quoteId = Math.floor(Math.random() * chuckJsonObject.value.length) + 1;
        $("#fortune span").text(chuckJsonObject.value[$quoteId].joke);
    });

  </script>
 
</body>
</html>